<!DOCTYPE html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, width=device-width" />
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="mobile-web-app-capable" content="yes">
        
		<link rel="apple-touch-icon" href="icons/apple-icon-152x152.png" />	
		<link rel="apple-touch-icon" sizes="128x128" href="icon.png">	
		<link rel="icon" type="image/x-icon" href="icons/favicon-16x16.png" />
		
		<!--<link rel="icon" href="favicon.ico">-->
		<link rel="apple-touch-icon" sizes="57x57" href="icons/apple-icon-57x57.png">
		<link rel="apple-touch-icon" sizes="60x60" href="icons/apple-icon-60x60.png">
		<link rel="apple-touch-icon" sizes="72x72" href="icons/apple-icon-72x72.png">
		<link rel="apple-touch-icon" sizes="76x76" href="icons/apple-icon-76x76.png">
		<link rel="apple-touch-icon" sizes="114x114" href="icons/apple-icon-114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="icons/apple-icon-120x120.png">
		<link rel="apple-touch-icon" sizes="144x144" href="icons/apple-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="icons/apple-icon-152x152.png">
		<link rel="apple-touch-icon" sizes="180x180" href="icons/apple-icon-180x180.png">
		<link rel="icon" type="image/png" sizes="192x192"  href="icons/android-icon-192x192.png">
		<link rel="icon" type="image/png" sizes="48x48" href="icons/windows-icon-48x48.png">
		<link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
		<link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
		<link rel="icon" type="image/png" sizes="256x256"  href="icons/android-icon-256x256.png">
		<!--<link rel="icon" type="image/png" sizes="256x256" href="icons/windows-icon-256x256.png">-->
		<link rel="icon" type="image/png" sizes="24x24" href="icons/windows-icon-24x24.png">
		<link rel="manifest" href="icons/manifest.json">
		<meta name="msapplication-TileColor" content="#ffffff">
		<meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
		<meta name="theme-color" content="#ffffff">
		
		
		

		<!-- Live version --><meta http-equiv="Content-Security-Policy" content="default-src https://atomjump.com data: gap: https://ssl.gstatic.com  'unsafe-inline' *;  style-src 'self' 'unsafe-inline' 'unsafe-eval' *; media-src *; img-src 'self' data: content: *; connect-src *;">
		
		
		

		<link rel="stylesheet" href="css/onsenui.css"/>
		<link rel="stylesheet" href="css/onsen-css-components-purple-theme.css">
    	
    	<link rel="stylesheet" type="text/css" href="css/ionicons/css/ionicons.css">
    	<link rel="stylesheet" type="text/css" href="css/material-design-iconic-font/css/material-design-iconic-font.css">
    	<link rel="stylesheet" type="text/css" href="css/jquery-ui.css">
    	
    	
    	<noscript>Sorry, 'JavaScript' is disabled in your browser. Please enabled JavaScript in your browser to be able to operate the MedImage app.</noscript>
    	<script>
    		//Run these cookie checks before any other .js scripts are included, and may fail
    		//But keep the functionality up-to-date with index.js versions of the same functions
    		    function myTrim(x)
				{
					return x.replace(/^\s+|\s+$/gm,'');
				}

				function getCookie(cname)
				{
					if(document && document.cookie) {
						var name = cname + "=";
						var ca = document.cookie.split(';');
						for(var i=0; i<ca.length; i++)
						{
							var c = myTrim(decodeURIComponent(ca[i]));// ie8 didn't support .trim();
							if (c.indexOf(name)==0) return c.substring(name.length,c.length);
						}
					}
					return "";
				}


				function cookieOffset()
				{
				  //Should output: Thu,31-Dec-2020 00:00:00 GMT
				  var cdate = new Date;
				  var expirydate=new Date();
				  expirydate.setTime(expirydate.getTime()+(365*3*60*60*24*1000));	//3 years, although 2 years may be the limit on some browsers
				  var write = expirydate.toGMTString();
				  
				  return write;
				}
								
    		    
				function localStorageGetItem(mykey) {
				
					return getCookie(mykey);	
				}
	
	
    
				function localStorageSetItem(mykey, value) {
					document.cookie = mykey + '=' + encodeURIComponent(value) + '; path=/; SameSite=Strict; expires=' + cookieOffset() + ';';		//Note: strict means cookies only used by this site
				}
				
				function localStorageRemoveItem(mykey) {
    	 			document.cookie = mykey + '=; Max-Age=-99999999;';  
				}
    
				function localStorageClear() {
					//Note: this won't remove different paths
					var c = document.cookie.split("; ");
			 		for (i in c) {
			  			document.cookie =/^[^=]+/.exec(c[i])[0]+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"; 
			  		}  

				}
    	
    	
    	
    	   		   function reportStorage(storageWorking) {
    		   		
    		   			if(storageWorking === false) {
				   	
							alert("Warning: Your browser needs '1st party cookies' to be enabled to be able to remember connections between visits. How to do this differs per browser, but look under your browser's Privacy Settings to correct this. You may also try a different browser.");
						}
				   }
			
				   function checkLocalStorageEnabled() {
						//Checks if local storage, currently cookie-based, existings and is working
						
						try {
					 		localStorageSetItem("ce", "exists");
					 		//Wait for a fraction of a second
					 						 		
					 		setTimeout(function() {
					 			try {
							 		var item = localStorageGetItem("ce");
									
									if(!item) {
										reportStorage(false);
										return false;
									} else {
										if(item === "exists") {
											reportStorage(true);
											return true;
										} else {
											//Stored connections not being held correctly
											reportStorage(false);
											return false;
										}
									}
								} catch(err) {
									reportStorage(false);
									return false;
								}
							}, 10);
						} catch(err) {
							reportStorage(false);
							return false;
						}
					
					}
					
					
					//Check if local storage exists, and provide a warning if not
					setTimeout(function() {
						checkLocalStorageEnabled();
					}, 50);
					
			
    	</script>
    	
    	<script src="js/onsenui.js"></script> 
    	<script src="js/jquery-3.4.0.js"></script>
    	<script src="js/jquery-ui.js"></script><!-- Note, this must come after the jquery -->
    	
    	<style>
    		.ui-widget {
  				font-family: Verdana,Arial,sans-serif;
  				font-size: 9px;
			}
			
			  .ui-autocomplete {
				max-height: 228px;
				width: 280px;
				overflow-y: auto;
				/* prevent horizontal scrollbar */
				overflow-x: hidden;
			  }
			  
			  a {
				text-decoration: none;
			  }
			  
			  a:link {
			    text-decoration: none;
			  }
			  
			  a:visited {
			  	  text-decoration: none;
			  }

			  a:hover {
				  text-decoration: none;
				}

			   a:active {
				  text-decoration: none;
				}
				
			  .highlighted {
			  	 background-color: #eeddee;
			  }
    	</style>
   	
 	    <script>
	      ons.ready(function() {
	        // Init code here
	        app.initialize();		//Was at end of script, below
	      });
	      
	      // This event fires when the keyboard will hide
			window.addEventListener('native.keyboardshow', keyboardShowHandler);



			function keyboardShowHandler(e){
				//$("body").addClass("keyboardOn");
				var deviceHeight = window.innerHeight;
				var keyboardHeight = e.keyboardHeight;
				var deviceHeightAdjusted = deviceHeight - keyboardHeight;//device height adjusted
				deviceHeightAdjusted = deviceHeightAdjusted < 0 ? (deviceHeightAdjusted * -1) : deviceHeightAdjusted;//only positive number
				document.getElementById('page').style.height = deviceHeightAdjusted + 'px';//set page height
				document.getElementById('page').setAttribute('keyBoardHeight', keyboardHeight);//save keyboard height
			}

			// This event fires when the keyboard will show
			window.addEventListener('native.keyboardhide', keyboardHideHandler);

			function keyboardHideHandler(e){
				   setTimeout(function () {
						document.getElementById('page').style.height = 100 + '%';//device  100% height
					}, 100);
			}
			
			function newDomain(input) {
					origStr = document.getElementById(input).value;
					str = origStr.replace(/\s+/g, '');
					str = str.replace(/[^a-z0-9\-]/gi, '');
					if(str == origStr) {
						//Straightforward redirect
						app.myWindowOpen(encodeURI('https://' + str + '.atomjump.com/go/'), '_blank');
					} else {
app.myWindowOpen(encodeURI('https://' + str + '.atomjump.com/?orig_query=' + encodeURIComponent(origStr)) + '&autostart=true', '_blank');
						
					}
					return false;
			}

			var ref;
			
			
			function checkPlatform() {
				var platform = "Desktop";	//Assume this to begin with
				
				var isiOSLike = navigator.platform.match(/(iPhone|iPod|iPad)/i) ? true:false;				
				if(isiOSLike) platform = "iOS";
				
				var userAgent = navigator.userAgent.toLowerCase();
				var android = userAgent.indexOf("android") > -1;
				if(android) platform = "Android";
						
				return platform;

			}
			
			
			var platformGuideIndex = {
				"iOS": "ios-guide",
				"Android": "android-guide",
				"Desktop": "desktop-guide"           
			};
			
			var platformButtonIndex = {
				"iOS": "ios-button",
				"Android": "android-button",
				"Desktop": "desktop-button"           
			};
			
			function selectGuide(detectedPlatform) {
			
				//Show the relevant text block
				jQuery("#" + platformGuideIndex[detectedPlatform]).toggle();
				if(detectedPlatform != "iOS") {
					$('#ios-guide').hide(); 
				}
				if(detectedPlatform != "Android") {
					$('#android-guide').hide(); 
				}
				if(detectedPlatform != "Desktop") {
					$('#desktop-guide').hide();
				}
			
				if(jQuery("#" + platformButtonIndex[detectedPlatform]).hasClass("highlighted")) {
					jQuery("#" + platformButtonIndex[detectedPlatform]).removeClass("highlighted");
				} else {
					jQuery("#" + platformButtonIndex[detectedPlatform]).addClass("highlighted");
				}
				
				if(detectedPlatform != "iOS") {
					$('#ios-button').removeClass("highlighted");
				}
				if(detectedPlatform != "Android") {
					$('#android-button').removeClass("highlighted"); 
				}
				if(detectedPlatform != "Desktop") {
					$('#desktop-button').removeClass("highlighted");
				}
				
				
				
			}
			
			function showDefaultPlatform() {
				//Decide on active class based on platform used:
				$('#ios-guide').hide(); 
				$('#android-guide').hide(); 
				$('#desktop-guide').hide();
				$('#ios-button').removeClass("highlighted");
				$('#android-button').removeClass("highlighted"); 
				$('#desktop-button').removeClass("highlighted");
				
				if($('#add-to-home').is(":hidden")) {
					$('#add-to-home').show(); 
					var detectedPlatform = checkPlatform();
			
					selectGuide(detectedPlatform);
				} else {
					//Leave everything unhighlighted
					$('#add-to-home').hide(); 
				}
				
				
				
				return false;
			}
	    </script>
	

        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>AtomJump Streaming</title>
    </head>
    <body>
    	<style><item name="android:windowTranslucentStatus">true</item></style> <!-- Ensure clicking inside box scrolls down -->
    	
    	
    	
    	<ons-navigator>
         <ons-page>
	        
		    <ons-fab style="z-index: 800;" position="bottom right" onclick="app.openSettings();">
		      <ons-icon icon="md-menu" ></ons-icon>
		    </ons-fab>
		    
		
	
	        <div id="inner-popup">
	        
	        	
			<div style="margin-top: 8px;">
				<div style="float: left;"><span style="padding-left: 20px;"><ons-button style="background-color: #cc99cc; color: white;" href="javascript" onclick="$('#login-popup').show(); $('#close-new-server').show(); return false;"><ons-icon icon="md-plus" ></ons-icon> Register</ons-button></span></div>
				<div style="float: right;"><span style="padding-right: 20px;"><a href="javascript" id="deregister-button" target="_blank"><ons-button style="background-color: #cc99cc; color: white;" ><ons-icon icon="fa-unlink" ></ons-icon> Deregister</ons-button></a></span></div>
			</div>
			

			<div style="clear: both;">	<!-- Start of main block -->
			<br/>
			<br/>
				<p style="text-align:center;">	
					<span style="vertical-align: top; padding: 10px; padding-top:10px;" class="big-text">AtomJump</span><br/><a href="javascript:" onclick="app.myWindowOpen(encodeURI('https://atomjump.com/'), '_system')"><img  src="img/icon-trans-87.png" style="padding 10px;"></a><br/><span id='registered' style="display: none;"><small>Listening for Messages</small></span>
				</p>
			
			
				
				
				<!--<p id="totop" style="text-align:center; margin-top: 10px; padding-top:10px;">
					<input id="srch" name="orig_query" type="text" size="9" class="resizedTextbox" placeholder="Message about..">
					<a id="click-url" href="https://atomjump.com" target="_blank" style="display: none;"><span>Link to remote site</span></a>
				</p>-->	
				
			
			
			
				
				<ons-list id="forum-list" modifier="chevron">
					<ons-list-header>Your Shortcuts <span class="small-text" onclick="navigator.notification.alert('These are frequently used messaging forums, which you can add in the settings page. Note: you will need to login independently within your browser to see the correct messages.', function(){}, 'New Account');"><small><ons-icon icon="ion-ios-help" size="20px" fixed-width="true"></small></span></ons-list-header>
				
				</ons-list>
	
	
 
		
		
		
		

			<div style="text-align:center;">
				<span id="notify" class="notify-text"></span>
				&nbsp;<span id="status" class="notify-text"></span>
			</div>
		
			<br/>
	   
		
			<div id="aj-HTML-alert-container">
			</div>
		
			 <div id="login-popup" style="display:none;">
				<div class="inner-popup">
				
					 <div id="header">
						<div style="float: left;"><span><a href="javascript:" onclick="app.myWindowOpen(encodeURI('https://atomjump.com/'), '_system')"><img  src="img/icon-trans-87.png" style="padding 10px; vertical-align: top;" width="24" height="24"></a> <span class="big-text" >AtomJump Messaging</span></span><br/></div>
						<div style="text-align:right; float: right;">
							<span>
								<a href="javascript:" onclick="showDefaultPlatform(); " style="color: #555; padding:10px;" alt="Add to Home"><ons-icon icon='md-bookmark' class='list__item__icon'></ons-icon>Install</a>
							</span>
							<span><span id="close-new-server" style="display: none;"><ons-button style="background-color: #cc99cc; color: white;" href="javascript:" onclick="$('#login-popup').hide(); $('#close-new-server').hide(); return false;"><ons-icon icon='md-close'></ons-icon></ons-button></span></span>
						</div>
						
						<div style="clear: both;"></div>
						<br/>
						<div id="add-to-home" style="display:none;">
							<small>Add app to your Homescreen<br/><a id="ios-button" class='button' style='margin:4px;' onclick="return selectGuide('iOS');" href='javascript:'>iOS Guide</a>&nbsp;<a id="android-button" class='button' style='margin:4px;' onclick="return selectGuide('Android');" href='javascript:'>Android Guide</a>&nbsp;<a id="desktop-button" class='button' style='margin:4px;' onclick="return selectGuide('Desktop');" href='javascript:'>Desktop Guide</a></small><br/><br/>
						</div>
						<div id="ios-guide" style="display:none;">Tap <img src="img/safari-add.png" width="25" height="30">, usually along the bottom of the screen, then swipe up, and tap 'Add to Home Screen'. <a href="javascript:" onclick="$('#ios-more-info').toggle();">More Info</a><br/><br/>
							<div id="ios-more-info" style="display:none;">
								<small><strong>Troubleshooting:</strong> if you don't see the 'Add to Home Screen' option, scroll to the bottom and tap 'Edit Actions', then tap 'Add' next to the 'Add to Home Screen'. After that, try again.</small> Or see <a href="https://support.apple.com/en-nz/guide/iphone/iph42ab2f3a7/ios#iph4f9a47bbc" target="_blank">Apple's Guide</a><br/><br/>								
								
							</div>
						
							<small><strong>Note:</strong> You get notifications while the <strong>app is open</strong>, but not when it is closed.</small>						
							<br/><br/>
						</div>
						<div id="android-guide" style="display:none;">Tap the <img src="img/chrome-menu.png" width="20" height="20"> in the top right corner of the screen, and then choose 'Add to Home Screen'. <a href="https://www.wikihow.com/Set-a-Bookmark-Shortcut-in-Your-Home-Screen-on-Android">More Details</a><br/><br/><small><strong>Note:</strong> You get visible notifications while the <strong>app is open</strong>, but only audible beeps when it is closed.</small><br/><br/>
						</div>
						<div id="desktop-guide" style="display:none;">Click the <img src="img/firefox-drag-desktop.png"> or <img src="img/chrome-desktop-drag.png"> or <img src="img/lock.png"> style icon in the address bar, to the left of the address, and depending on the browser, drag this onto your desktop. <a href="https://www.hellotech.com/guide/for/how-to-create-a-desktop-shortcut-to-a-website">More Details</a><br/><br/>In Edge on Windows, use <img src="img/edge-menu.png" width="30" height="20"> > "Apps" > "Install this site as an app".<br/><br/><small><strong>Why?</strong> You can run this app in a background tab within your desktop browser and get an audible beep when a new message arrives, from any of your subscribed forums. The tab should be highlighted, too.</small><br/><br/>
						</div>
					</div>
					<div style="clear: both;"></div>
				
					<br/>
				
				
					<ons-list style="padding-top: 20px;">
					 <ons-list-header>Please Choose:</ons-list-header>
						<ons-list-item expandable>
						  <span style="width :100%;" onclick="$('.expandable-content').hide(); $(this).parent().find('.expandable-content').slideToggle();">&nbsp;&nbsp;Register with AtomJump.com core</span>
						  <div id="atomjumpcomRegister" class="expandable-content" style="width: 100%;">
								<p style="text-align:center;">
								<ons-button style="background-color: #7c5599; color: white;" modifier="large--cta" onclick="soundEffect.play(); app.register(defaultApi, null);"><ons-icon icon='md-link'></ons-icon>&nbsp;&nbsp;AtomJump.com</ons-button>
								</p>
							</div>
						</ons-list-item>
						<ons-list-item expandable >
						  <span style="width :100%;" onclick="$('.expandable-content').hide(); $(this).parent().find('.expandable-content').slideToggle();"><b>(Or)</b>&nbsp;&nbsp;Register on an AtomJump group, or a Private Server</span>
						  <div id="prefillRegister" class="expandable-content" style="display: none; width: 100%;">
							<p style="text-align:center;"><input style="padding:5px;" id="pair-private-server" type="url" placeholder="Enter group or URL" size="26" class="resizedTextbox"><br/><br/>								
								<a id="create-private-room" style="display: none;" href="https://atomjump.com/wp/introduction/" ><ons-button style="background-color: #7c5599; color: white; margin-bottom: 10px;" modifier="large--cta"><ons-icon icon='md-lock'></ons-icon>&nbsp;&nbsp;Create Private Room</ons-button></a>
								<ons-button style="background-color: #7c5599; color: white;" modifier="large--cta" onclick="soundEffect.play(); app.register($('#pair-private-server').val(), null);"><ons-icon icon='md-link'></ons-icon>&nbsp;&nbsp;Register</ons-button>
							</p>
						  </div>
						</ons-list-item>
						<ons-list-item expandable>
					  
						   <span style="width:100%;" onclick="$('.expandable-content').hide(); $(this).parent().find('.expandable-content').slideToggle()"><b>(Or)</b>&nbsp;&nbsp;Login</span>
					  
						  <div class="expandable-content" style="display: none; width: 100%;">
						
							<div id="login">
								<br/>
								<span class="small-text" onclick="navigator.notification.alert('Please enter your new account email and password in the same boxes. Note: you will need to login within your browser also.', function(){}, 'New Account');">New Account <small><ons-icon icon="ion-ios-help" size="20px" fixed-width="true"></small><br/></span>
	   
								<br/>

				
				
								<p style="text-align:center;">
					
									<input style="padding:5px;" id="user" type="email" placeholder="Email" size="20" class="resizedTextbox">
									<input style="padding:5px;" id="password" type="password" placeholder="Password" size="20" class="resizedTextbox">
					
									<input style="padding:5px; display: none;" id="private-server" type="url" placeholder="Private Server URL" size="26" class="resizedTextbox">
								</p>
								<p>
								<ons-button style="background-color: #7c5599; color: white;" modifier="large" onclick="app.login($('#user').val(), $('#password').val(), $('#private-server').val());"><ons-icon icon='md-sign-in' size="20px" fixed-width="true"></ons-icon> Login</ons-button>
								</p>
				
								<p>
								<a class="small-text" href="javascript:" onclick="return app.clearPass($('#user').val(), $('#private-server').val());">Reset Password</a>&nbsp;<span id="password-wait" style="display: none;"><img src="img/ajax-loader.gif" width="16" height="16"></span>
								</p>
								<p>
									<a class="small-text" href="javascript:" onclick="$('#private-server').show(); return false;">Private Server</a>
								</p>
							</div>
				
							</div>
						</ons-list-item>
						<ons-list-item expandable >
						  <span style="width :100%;" onclick="$('.expandable-content').hide(); $(this).parent().find('.expandable-content').slideToggle();"><b>(Or)</b>&nbsp;&nbsp;Import personal data</span>
						  <div id="prefillRegister" class="expandable-content" style="display: none; width: 100%;">
						  	
							<p style="text-align:center;"><span class="small-text">Please paste your "Raw Data" below</span><br/><textarea style="padding:5px;" id="import-raw-data" rows="4" cols="40"></textarea><br/><span class="small-text">Export this data from 'Settings' > 'Export My Data'</span>
							
								<br/><br/>
								<p>
								<ons-button style="background-color: #7c5599; color: white;" modifier="large--cta" onclick="app.importCookies(); return false;"><ons-icon icon='md-cloud-upload'></ons-icon>&nbsp;&nbsp;Import Personal Data</ons-button>
								</p>
							</p>
						  </div>
						</ons-list-item>
					 </ons-list>
					<br/>
				
				
				</div>
			</div>
        </div>  <!--  End of main block -->
        
        <div id="settings-popup" style="display:none;">
        	<div class="inner-popup">
        		
        		<span class="big-text">Settings</span><br/><br/>
        		
        		<ons-fab position="top right" onclick="app.closeSettings();">
		      		<ons-icon icon="md-close" ></ons-icon>
		    	</ons-fab>
        		
        		
        		<div id="settings"></div>
        		<p>
        			<ons-button style="background-color: #7c5599; color: white;" modifier="large" onclick="app.newForum();">Add a New Forum</ons-button>
	        		
	        	</p>
	        	
				<p>
					<div style="position: relative; float: right;">
								<a class="small-text" target="_blank" href="http://atomjump.org">Version: 1.4.1<a/>
					</div>
					
					
					<a class="small-text" href="javascript:" onclick="return app.factoryReset();">Reset Factory Settings</a>
				</p>
				<p>
					<a style="color: #888;" class="small-text" href="javascript:" onclick="return app.showMyData();">Export My Data</a>
				</p>
				<p id="show-my-data" style="display: none; background-color: rgb(238, 238, 238); opacity: 1.0; padding: 10px;">
					<span class="small-text" style="color: #555;">Your AtomJump app data is stored in your local browser's 'cookies' for up to 2 years, and is annually refreshed if the app is being used. Login details are stored separately in your browser's 'cookies' on the pages of any registered AtomJump servers, and on the servers themselves. You can copy and paste this central app data into a local file, which can then be imported with the 'Import Personal Data' option, to either refresh this device, or create a new secondary device.
					<br/><br/>Please store any data here in a <b>secure location</b>.<br/></span><br/>
					<b>Raw Data:</b><br/><textarea id="raw-data" rows="4" cols="50"></textarea><br/><br/>
					<b>Readable Version:</b><br/><textarea id="human-data" rows="4" cols="50"></textarea>
				</p>
			</div>
        </div>
        

        
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            
           var soundEffect = new Audio();
           
           soundEffect.src = 'ping.mp3';
           
           
 		
			function setOriginDomain(domain) {
				//Scenarios:
				//1. We are at https://subdomain.domain.com    Messaging is at https://domain.com
				//2. We are at https://subdomain.domain.co.nz  Messaging is at https://domain.co.nz
				//2. We are at https://domain.com              Messaging is at https://subdomain.domain.com
							
				//Now set the origin domain https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy
				document.domain = domain;			//Get the domain from the 'server' for cross-domain security
							
			
			}
			
			//Special case atomjump for drop down selection
			var hostname = location.hostname;
			if(hostname.includes("atomjump.com")) {
				setOriginDomain("atomjump.com");		//Allow calls to raw atomjump.com
			}
            
          		
			
           jQuery(document).ready(function(){
 				jQuery( "#deregister-button").click(function() {
					
 					app.logout();
 					return true;		//Allow the link to happen also
 				});
 				
 				
		     	jQuery( "#pair-private-server" ).autocomplete({
		     		source: "https://atomjump.com/search-suggest.php",
					minLength: 1,//search after one characters
					position: { my: "left bottom", at: "left top", collision: "flip" },
					select: function(event,ui){
						//do something
				        var myId = ui.item.id;
				        if (typeof myId === 'string' || myId instanceof String) {  
				          	//Special case - create a private group
				   
				          	var domain = myId.toLowerCase();
				          	domain = domain.replace(/\s+/g, '');
							domain = domain.replace(/[^a-z0-9\-]/gi, '');
				          	jQuery('#pair-private-server').val(domain); 
				          	
				          	//Straightforward redirect
				          		var url = encodeURI('https://atomjump.com/wp/introduction/?prefdomain=' + domain + '#private');
								app.myWindowOpen(url, '_blank');		//Try to open immediately
								
								//But if not, show a button to create a private room
								jQuery('#create-private-room').attr("href", url);
								jQuery('#create-private-room').show();
								
								//But remove it after 10 seconds
								setTimeout(function() { jQuery('#create-private-room').hide(); }, 10000);
								
							return false;
				        } else {
				          	//A normal search term - no need to action
				        }
					},
					response: function( event, ui ) {
						//Will be called on every select, but if there is no data - then fill with our own.
						if(ui) {
							if(ui.item) {
								if(ui.item.id) {
									var myId = ui.item.id;
								} else {
									
								}
							} else {
								//Have got no response so far from the network.
								searchedTerm = jQuery('#pair-private-server').val();

								if(ui.content && ui.content.length <= 0) {
									ui.content.push(
										{label:"Arts", value:"arts"},
										{label:"Animation", value:"animation"},
										{label:"Anime", value:"anime"},
										{label: searchedTerm, value: searchedTerm},
										{label:"Create a PRIVATE room '" + searchedTerm + "'", value:searchedTerm, id:searchedTerm}									
									  );  //Can remove this line for iOS builds to remove commercial angle: ,{label:"Create a PRIVATE room '" + searchedTerm + "'", value:searchedTerm, id:searchedTerm}
										
								}
							}
						} else {
						}
					
					}
				});
				
			});   
            
            function showPreregister() {
            	jQuery('#pair-private-server').val(register);
				$('#login-popup').show(); 
				$('#close-new-server').show();
				$('#prefillRegister').slideDown();
				$('#atomjumpcomRegister').slideUp();
            
            }
            
            //Get current URL - potentially prefill the new register page
            var queryString = window.location.search;
            var urlParams = new URLSearchParams(queryString);
			var register = urlParams.get('register');
			if(register) {
				showPreregister();
				app.showPreregister = true;
			} else {
				app.showPreregister = false;
			}
            
        </script>
          
          
     </ons-page>
     
     
    </ons-navigator>  
    </body>
</html>
